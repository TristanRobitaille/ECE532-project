#ifndef INC_I2S_AUDIO_H_
#define INC_I2S_AUDIO_H_

#include "xparameters.h"
#include "xil_io.h"
#include "stdlib.h"

//----- DEFINES -----//
#define I2S_DATA_REG XPAR_AXI_I2S_DRIVER_0_S00_AXI_BASEADDR
#define I2S_EN_REG (I2S_DATA_REG + 0x4)
#define I2S_DATA_WIDTH_REG (I2S_DATA_REG + 0x8)
#define I2S_CLK_DIV_REG (I2S_DATA_REG + 0xC)

#define I2S_DEFAULT_DATA_WIDTH 32
// For 20kHz refresh (need to send 2x32b per refresh), need bclk = 1.28MHz ~= 1.32MHz --> BCLK_DIV = 38
#define I2S_DEFAULT_BCLK_DIV 38 // bclk = 100MHz/2*BCLK_DIV
// Want MCLK = 4MHz ~= 4.166MHz--> MCLK_DIV = 12
#define I2S_DEFAULT_MCLK_DIV 12 // mclk = 100MHz/2*BCLK_DIV

// I2C interface
#define AD7156_ADDR 0x

//----- PROTOTYPES -----//
void i2s_audio_init();
void i2s_audio_enable();
void i2s_audio_disable();
void i2s_audio_set_data_width(u32 data_width);
void i2s_audio_set_bclk_div(u32 bclk_div);
void i2s_audio_set_mclk_div(u32 mclk_div);
void i2s_audio_write_data(u32 data);

#endif /* INC_I2S_AUDIO_H_ */
